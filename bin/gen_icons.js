const fs = require("fs");
var emojis = [
  "游린",
  "游릲",
  "游릳",
  "游릴",
  "游릱",
  "游릵",
  "游린",
  "游릲",
  "游릳",
  "游릴",
  "游릱",
  "游릵",
];

console.log(process.argv);
var desktops = process.argv[2]
  .replaceAll('"', "")
  .replaceAll(",", "")
  .split(" ")
  .map((x) => x)
  .map((x) => parseInt(x));
console.log(desktops);
var icons = desktops.map((n, i) => `icon-${i} = ${n};${emojis[i]}`);
console.log(icons);

var contents = ["; This file is generated by gen_icons.js", "", ...icons];
console.log(contents);
console.log("writing file...");
var filecontents = contents.join("\n");
console.log(filecontents);
console.log("foo");

fs.writeFileSync(
  "/home/john/dotfiles/polybar/.config/polybar/generated-icons.ini",
  filecontents
);
